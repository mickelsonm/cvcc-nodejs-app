{"version":3,"sources":["../src/app.js"],"names":["app","disable","hbs","registerHelper","handlebars","mainLayout","fs","readFileSync","path","join","__dirname","registerPartial","set","layout","engine","__express","use","skip","get","bodyParser","json","urlencoded","extended","express","static","index","add","req","res","next","err","Error","status","render","message"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA,MAAMA,MAAM,wBAAZ;AACAA,IAAIC,OAAJ,CAAY,cAAZ;;AAEA;AACAC,cAAIC,cAAJ,CAAmB,iCAAQD,cAAIE,UAAZ,CAAnB;AACA,MAAMC,aAAaC,aAAGC,YAAH,CAClBC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,2BAArB,CADkB,EAElB,OAFkB,CAAnB;;AAKAR,cAAIS,eAAJ,CAAoB,MAApB,EAA4BN,UAA5B;AACAL,IAAIY,GAAJ,CAAQ,OAAR,EAAiBJ,eAAKC,IAAL,CAAUC,SAAV,EAAqB,UAArB,CAAjB;AACAV,IAAIY,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAZ,IAAIY,GAAJ,CAAQ,cAAR,EAAwB;AACvBC,SAAQ;AADe,CAAxB;AAGAb,IAAIc,MAAJ,CAAW,MAAX,EAAmBZ,cAAIa,SAAvB;;AAEAf,IAAIgB,GAAJ,CACC,sBAAO,KAAP,EAAc;AACbC,OAAM,MAAMjB,IAAIkB,GAAJ,CAAQ,KAAR,MAAmB;AADlB,CAAd,CADD;AAKAlB,IAAIgB,GAAJ,CAAQG,qBAAWC,IAAX,EAAR;AACApB,IAAIgB,GAAJ,CAAQG,qBAAWE,UAAX,CAAsB;AAC7BC,WAAU;AADmB,CAAtB,CAAR;AAGAtB,IAAIgB,GAAJ,CAAQ,SAAR,EAAmBO,kBAAQC,MAAR,CAAehB,eAAKC,IAAL,CAAUC,SAAV,EAAqB,WAArB,CAAf,CAAnB;AACAV,IAAIgB,GAAJ,CACC,oBADD,EAECO,kBAAQC,MAAR,CAAehB,eAAKC,IAAL,CAAUC,SAAV,EAAqB,8BAArB,CAAf,CAFD;AAIAV,IAAIgB,GAAJ,CACC,uBADD,EAECO,kBAAQC,MAAR,CAAehB,eAAKC,IAAL,CAAUC,SAAV,EAAqB,gCAArB,CAAf,CAFD;;AAKA;AACAV,IAAIgB,GAAJ,CAAQ,GAAR,EAAaS,eAAb;AACAzB,IAAIgB,GAAJ,CAAQ,MAAR,EAAgBU,aAAhB;;AAEA;AACA1B,IAAIgB,GAAJ,CAAQ,CAACW,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3B,OAAMC,MAAM,IAAIC,KAAJ,CAAU,WAAV,CAAZ;AACAD,KAAIE,MAAJ,GAAa,GAAb;AACAH,MAAKC,GAAL;AACA,CAJD;;AAMA;AACA;AACA9B,IAAIgB,GAAJ,CAAQ,CAACc,GAAD,EAAMH,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAChCD,KAAII,MAAJ,CAAWF,IAAIE,MAAJ,IAAc,GAAzB,EAA8BC,MAA9B,CAAqC,OAArC,EAA8C;AAC7CC,WAASJ,IAAII;AADgC,EAA9C;AAGA,CAJD;;kBAMelC,G","file":"app.js","sourcesContent":["import express from 'express';\nimport path from 'path';\nimport logger from 'morgan';\nimport bodyParser from 'body-parser';\nimport fs from 'fs';\nimport hbs from 'hbs';\nimport layouts from 'handlebars-layouts';\n\nimport index from './routes/index';\nimport add from './routes/add';\n\nconst app = express();\napp.disable('x-powered-by');\n\n// view engine setup\nhbs.registerHelper(layouts(hbs.handlebars));\nconst mainLayout = fs.readFileSync(\n\tpath.join(__dirname, '../views/layouts/main.hbs'),\n\t'utf-8'\n);\n\nhbs.registerPartial('main', mainLayout);\napp.set('views', path.join(__dirname, '../views'));\napp.set('view engine', 'hbs');\napp.set('view options', {\n\tlayout: false\n});\napp.engine('html', hbs.__express);\n\napp.use(\n\tlogger('dev', {\n\t\tskip: () => app.get('env') === 'test'\n\t})\n);\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n\textended: true\n}));\napp.use('/assets', express.static(path.join(__dirname, '../assets')));\napp.use(\n\t'/assets/lib/jquery',\n\texpress.static(path.join(__dirname, '../node_modules/jquery/dist/'))\n);\napp.use(\n\t'/assets/lib/bootstrap',\n\texpress.static(path.join(__dirname, '../node_modules/bootstrap/dist'))\n);\n\n// Routes\napp.use('/', index);\napp.use('/add', add);\n\n// Catch 404 and forward to error handler\napp.use((req, res, next) => {\n\tconst err = new Error('Not Found');\n\terr.status = 404;\n\tnext(err);\n});\n\n// Error handler\n// eslint-disable-next-line no-unused-vars\napp.use((err, req, res, next) => {\n\tres.status(err.status || 500).render('error', {\n\t\tmessage: err.message\n\t});\n});\n\nexport default app;"]}